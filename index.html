<!DOCTYPE html>
<!--
/**
 * Copyright (c) 2017 Ilkka Kuosmanen
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
 * associated documentation files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR
 * THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
-->
<html lang="en-US">
<head>
  <title>Maze solver</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="maze.css">
</head>
<body>
  <noscript>JS is required! Please enable JavaScript!</noscript>
  <div class="source">
    <h2>Source for this site: <a href="https://github.com/Snekw/MazeSolver">Github</a></h2>
  </div>
  <div class="controls">
    <h2>Browser support</h2>
    <label>Chrome v55+</label><br/>
    <label>Firefox v52+</label><br/>
    <label>Opera v43+</label><br/>
    <label>Edge v15+</label><br/>
    <label>Safari v10.1+</label><br/>
    <label>Internet Explorer <b style="color:red;">NOT SUPPORTED</b></label><br/>
    <h3>Make sure to have more than 2 GB of free RAM if you want to use large images!</h3>
  </div>
  <div class="controls">
    <label for="file">File:</label>
    <input id="file" type="file" accept="image/png" onchange="selectImageFromFile(this);"/>
    <br/>
    <label for="imgSel">Or select image:</label>
    <select id="imgSel" onchange="selectImage();">
      <option>10x10</option>
      <option>10x10-loop</option>
      <option>10x10-sides</option>
      <option>20x20</option>
      <option>30x30</option>
      <option>400x400</option>
      <option>test</option>
      <option>1000x1000</option>
      <option>1000x1000B</option>
      <option>box-30</option>
    </select>
    <br/>
    <label for="scale">Render scale:</label>
    <input type="number" id="scale" value="20" onchange="setScale(this.value);"/>
    <br/>
    <label for="showOrigImage">Show original image:</label>
    <input id="showOrigImage" type="checkbox" onchange="toggleShowImage();"/>
  </div>
  <div class="controls">
    <img id="img" src="mazes/maze-10x10.png" class="hide">
    <br id="imgSep" class="hide"/>
    <label for="isDebug">Debug</label>
    <input type="checkbox" id="isDebug" onchange="debugToggle()">
    <br/>
    <label for="method">Method</label>
    <select id="method" title="Method">
    </select>
    <button onclick="solve();">Solve</button>
    <button onclick="mazeClear();">Clear</button>
    <br/>
    <button id="playAnim" onclick="startAnim();" disabled>Play animation</button>
    <button id="stopAnim" onclick="stopAnim();" disabled>Stop animation</button>
    <br/>
    <label for="recordAnimation">Record animation</label>
    <input id="recordAnimation" type="checkbox" checked onchange="updateAnimCheckBoxes();"/>
    <br/>
    <label for="rtAnim">Real time animation</label>
    <input id="rtAnim" type="checkbox" checked/>
    <br/>
    <label for="animPathFind">Path finding</label>
    <input id="animPathFind" type="checkbox" checked/>
    <br/>
    <label for="animFoundPath">Found path</label>
    <input id="animFoundPath" type="checkbox" checked/>
    <br/>
    <label for="animSpeed">Animation speed:</label>
    <input id="animSpeed" type="number" value="5" onchange="setAnimationSpeed(this.value);"/>
  </div>
  <div class="controls">
    <label>Generating:</label>
    <label id="genTime">00:00:00</label>
    <br/>
    <label>Path finding:</label>
    <label id="pathTime">00:00:00</label>
    <br/>
    <label>Mouse left click to add a path.</label>
    <br/>
    <label>Mouse right click to add a wall.</label>
  </div>
  <div class="canvas-container">
    <canvas id="snwMazeMainCanvas"></canvas>
    <canvas id="snwMazeAnimCanvas" class="bgTransparent"></canvas>
    <canvas id="snwMazeCursorCanvas" class="bgTransparent"></canvas>
  </div>
  <script id="2d-vertex-shader" type="x-shader/x-vertex">
    attribute vec2 a_position;
    attribute vec2 a_offset;
    attribute vec4 a_color;
    uniform vec2 u_resolution;

    varying vec4 vColor;
    void main(){
    vColor = a_color;
    vec2 zeroToOne = (a_position + a_offset)/u_resolution;
    vec2 zeroToTwo = zeroToOne*2.0;
    vec2 clipSpace = zeroToTwo-1.0;
    gl_Position = vec4(clipSpace *vec2(1,-1),0,1);
    }

  </script>
  <script id="2d-fragment-shader" type="x-shader/x-fragment">
    precision mediump float;
    varying vec4 vColor;

    void main(){
    gl_FragColor = vColor;
    }

  </script>
  <script src="snw-maze-renderer.js"></script>
  <script src="snw-maze-anim.js"></script>
  <script src="snw-maze-pathfind-class.js"></script>
  <script src="pathfinding/snw-maze-astar.js"></script>
  <script src="pathfinding/snw-maze-dijkstra.js"></script>
  <script src="pathfinding/snw-maze-recursive.js"></script>
  <script src="snw-maze-edit.js"></script>
  <script src="snw-maze.js"></script>

</body>
</html>